<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-pivot" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Canonical Programs and the Simplex Pivot</title>

  <p> We begin the process of establishing an algorithm. </p>

  <activity xml:id="activity-maxslack">
    <introduction>
      <p>
        Consider the canonical maximization problem:

      </p>
      <p>
        <md>
          <mrow>\textbf{Maximize: }  f(\mathbf{x}) = c_1x_1 + c_2x_2 +\cdots c_mx_m-d \amp= \left(\displaystyle\sum_{j=1}^m c_jx_j \right)-d</mrow>
          <mrow>\textbf{Subject to: }  a_{1,1}x_1 + a_{1,2}x_2 +\cdots a_{1,m}x_m\amp \leq  b_1</mrow>
          <mrow> a_{2,1}x_1 + a_{2,2}x_2 +\cdots a_{2,m}x_m\amp \leq  b_2</mrow>
          <mrow> \vdots \amp   \vdots</mrow>
          <mrow> a_{n,1}x_1 + a_{n,2}x_2 +\cdots a_{n,m}x_m\amp \leq  b_n</mrow>
          <mrow> x_1, x_2, \ldots, x_m\amp \geq  0</mrow>
        </md>
      </p>
      <p>
        Note that we may rewrite this as a system of equalities by introducing the <em>slack variables</em> <m>t_i</m>.
      </p>

      <p>
        <md>
          <mrow>\textbf{Maximize: }  f(\mathbf{x}) = c_1x_1 + c_2x_2 +\cdots c_mx_m-d \amp= \left(\displaystyle\sum_{j=1}^m c_jx_j \right)-d</mrow>
          <mrow>\textbf{Subject to: }  a_{1,1}x_1 + a_{1,2}x_2 +\cdots a_{1,m}x_m + t_1 \amp =  b_1</mrow>
          <mrow> a_{2,1}x_1 + a_{2,2}x_2 +\cdots a_{2,m}x_m+t_2\amp =  b_2</mrow>
          <mrow> \vdots \amp   \vdots</mrow>
          <mrow> a_{n,1}x_1 + a_{n,2}x_2 +\cdots a_{n,m}x_m +t_n \amp =  b_n</mrow>
          <mrow> x_1, x_2, \ldots, x_m\amp \geq  0</mrow>
        </md>
        
      </p>
      
      
    </introduction>
    <task>
      <statement>
        <p>
          What must be true about the slack variables <m>t_i</m>?
        </p>
        <ol style="A">
          <li>
            <p>
              <m>t_i\leq 0</m>
            </p>
          </li>
          <li>
            <p>
              <m>t_i\geq 0</m>
            </p>
          </li>
          <li>
            <p>
              <m>\sum_{i=1}^m t_i=0</m>
            </p>
          </li>
        </ol>
      </statement>
    </task>

    <task>
      <statement>
        <p>
          What is the largest value <m>t_i</m> could obtain?
        </p>
        <ol style="A">
          <li>
            <p>
              <m>b_i</m>
            </p>
          </li>
          <li>
            <p>
              <m>c_i</m>
            </p>
          </li>
          <li>
            <p>
              <m>x_i</m>
            </p>
          </li>
          <li>
            <p>
              <m>t_i</m> is unbounded.
            </p>
          </li>
        </ol>
      </statement>
    </task>

  </activity>

  <observation>
    <statement>
      <p>
        Similarly the canonical minimization problem:
      </p>
      <p>
        <md>
          <mrow>\textbf{Minimize: }  g(\mathbf{x}) = c_1x_1 + c_2x_2 +\cdots c_nx_n-d \amp= \left(\displaystyle\sum_{j=1}^n c_jx_j \right)-d</mrow>
          <mrow>\textbf{Subject to: }  a_{1,1}x_1 + a_{1,2}x_2 +\cdots a_{1,n}x_n\amp \geq  b_1</mrow>
          <mrow> a_{2,1}x_1 + a_{2,2}x_2 +\cdots a_{2,n}x_n\amp \geq  b_2</mrow>
          <mrow> \vdots \amp   \vdots</mrow>
          <mrow> a_{m,1}x_1 + a_{m,2}x_2 +\cdots a_{m,n}x_n\amp \geq  b_m</mrow>
          <mrow> x_1, x_2, \ldots, x_n\amp \geq  0</mrow>
        </md>
        Where <m>a_{i,j}, b_i, c_j, d\in \mathbb{R}</m>
      </p>
      <p>
        May be rewritten as:
      </p>
      <p>
        <md>
          <mrow>\textbf{Minimize: }  g(\mathbf{x}) = c_1x_1 + c_2x_2 +\cdots c_nx_n-d \amp= \left(\displaystyle\sum_{j=1}^n c_jx_j \right)-d</mrow>
          <mrow>\textbf{Subject to: }  a_{1,1}x_1 + a_{1,2}x_2 +\cdots a_{1,n}x_n -s_1\amp =  b_1</mrow>
          <mrow> a_{2,1}x_1 + a_{2,2}x_2 +\cdots a_{2,n}x_n -s_2 \amp =  b_2</mrow>
          <mrow> \vdots \amp   \vdots</mrow>
          <mrow> a_{m,1}x_1 + a_{m,2}x_2 +\cdots a_{m,n}x_n -s_m \amp =  b_m</mrow>
          <mrow> x_1, x_2, \ldots, x_n\amp \geq  0</mrow>
        </md>
      </p>
    </statement>
  </observation>

  <p>
    As usual, we focus on maximization for now.
  </p>

  <definition xml:id="def-tuckertableau">
    <statement>
      <p>
        We can rewrite
        <md>
          <mrow>\textbf{Maximize: }  f(\mathbf{x}) = c_1x_1 + c_2x_2 +\cdots c_mx_m-d \amp= \left(\displaystyle\sum_{j=1}^m c_jx_j \right)-d</mrow>
          <mrow>\textbf{Subject to: }  a_{1,1}x_1 + a_{1,2}x_2 +\cdots a_{1,m}x_m + t_1 \amp =  b_1</mrow>
          <mrow> a_{2,1}x_1 + a_{2,2}x_2 +\cdots a_{2,m}x_n+t_2\amp =  b_2</mrow>
          <mrow> \vdots \amp   \vdots</mrow>
          <mrow> a_{n,1}x_1 + a_{n,2}x_2 +\cdots a_{n,m}x_n +t_m \amp =  b_n</mrow>
          <mrow> x_1, x_2, \ldots, x_m\amp \geq  0</mrow>
        </md>
        as 
        <md>
          <mrow>\textbf{Maximize: }  f(\mathbf{x}) = c_1x_1 + c_2x_2 +\cdots c_mx_m-d \amp= \left(\displaystyle\sum_{j=1}^m c_jx_j \right)-d</mrow>
          <mrow>\textbf{Subject to: }  a_{1,1}x_1 + a_{1,2}x_2 +\cdots a_{1,m}x_m  -b_1\amp =  -t_1</mrow>
          <mrow> a_{2,1}x_1 + a_{2,2}x_2 +\cdots a_{2,n}x_n-b_2\amp =  -t_2</mrow>
          <mrow> \vdots \amp   \vdots</mrow>
          <mrow> a_{n,1}x_1 + a_{n,2}x_2 +\cdots a_{n,m}x_n -b_n \amp =  -t_n</mrow>
          <mrow> x_1, x_2, \ldots, x_m, t_1, \ldots, t_n\amp \geq  0</mrow>
        </md>
        Which may be recorded by the <em>Tucker Tableau</em>:
        
      </p>
      <p>
        <tabular halign="center">
          <row>
            <cell halign="left">
            </cell>
            <cell bottom="medium">
              <m>x_1</m>
            </cell>
            <cell bottom="medium">
              <m>x_2</m>
            </cell>
            <cell bottom="medium">
              <m>\cdots</m>
            </cell>
            <cell bottom="medium">
              <m>x_m</m>
            </cell>
            <cell bottom="medium">
              <m>-1</m>
            </cell>
            <cell halign="left">
            </cell>
          </row>
          <row>
            <cell halign="left" right="medium">
            </cell>
            <cell>
              <m>a_{11}</m>
            </cell>
            <cell>
              <m>a_{12}</m>
            </cell>
            <cell>
              <m>\cdots</m>
            </cell>
            <cell right="medium">
              <m>a_{1m}</m>
            </cell>
            <cell right="medium">
              <m>b_1</m>
            </cell>
            <cell halign="left">
              <m>=-t_1</m>
            </cell>
          </row>
          <row>
            <cell halign="left" right="medium">
            </cell>
            <cell>
              <m>a_{21}</m>
            </cell>
            <cell>
              <m>a_{22}</m>
            </cell>
            <cell>
              <m>\cdots</m>
            </cell>
            <cell right="medium">
              <m>a_{2m}</m>
            </cell>
            <cell right="medium">
              <m>b_2</m>
            </cell>
            <cell halign="left">
              <m>=-t_2</m>
            </cell>
          </row>
          <row>
            <cell halign="left" right="medium">
            </cell>
            <cell>
              <m>\vdots</m>
            </cell>
            <cell>
              <m>\vdots</m>
            </cell>
            <cell>
              <m>\ddots</m>
            </cell>
            <cell right="medium">
              <m>\vdots</m>
            </cell>
            <cell right="medium">
              <m>\vdots</m>
            </cell>
            <cell halign="left">
              <m>\vdots</m>
            </cell>
          </row>
          
          <row>
            <cell halign="left" right="medium">
            </cell>
            <cell bottom="medium">
              <m>a_{n1}</m>
            </cell>
            <cell bottom="medium">
              <m>a_{n2}</m>
            </cell>
            <cell bottom="medium">
              <m>\cdots</m>
            </cell>
            <cell right="medium" bottom="medium">
              <m>a_{nm}</m>
            </cell>
            <cell right="medium" bottom="medium">
              <m>b_n</m>
            </cell>
            <cell halign="left">
              <m>=-t_n</m>
            </cell>
          </row>
          <row>
            <cell halign="left" right="medium">
            </cell>
            <cell bottom="medium">
              <m>c_1</m>
            </cell>
            <cell bottom="medium">
              <m>c_2</m>
            </cell>
            <cell bottom="medium">
              <m>\cdots</m>
            </cell>
            <cell right="medium" bottom="medium">
              <m>c_m</m>
            </cell>
            <cell right="medium" bottom="medium">
              <m>d</m>
            </cell>
            <cell halign="left">
            </cell>
          </row>
        </tabular>
      </p>
      <p>
        The variables at the top are called the <em>decision variables</em> or <em>independent variables</em>, the variables on the side are the <em>slack variables</em>, <em>basis variables</em> or <em>basic variables</em>.
      </p>
      <p>
        The <em>basic solution</em> recorded by a Tucker Tableau is the solution where each decision variable has
        the value zero.
      </p>
    </statement>
  </definition>

  <observation>
    <statement>
      <p>
        Note that this tableau records a basic solution <m>x_1, x_2, \ldots, x_m=0</m>.  We will further explore what this means in a bit.  
        But for now, if <m>x_1, x_2, \ldots, x_m =0</m>, then:
        <md>
          <mrow>a_{1,1}0 + a_{1,2}0 +\cdots a_{1,m}0-b_1  \amp =  -t_1</mrow>
          <mrow> a_{2,1}0 + a_{2,2}0 +\cdots a_{2,m}0 -b_2\amp =  -t_2</mrow>
          <mrow> \vdots \amp   \vdots</mrow>
          <mrow> a_{n,1}0 + a_{n,2}0 +\cdots a_{n,m}0-b_n  \amp =  -t_n</mrow>
          <mrow> c_10 + c_20 +\cdots c_m0-d  \amp =  f</mrow>
        </md>
      </p>
    </statement>
  </observation>

  <activity>
    <introduction>
      <p>
        Consider the region in <m>\mathbb{R}^2</m> bound by <m>3x+5y\leq 8</m> and <m>2x+y\leq 3</m>.  Let <m>3x+5y-8=-t_1</m> and <m>2x+y-3=-t_2</m>
      </p>
    </introduction>
    <task>
      <statement>
        <p>
          If <m>t_1=0</m>, what points in <m>\mathbb{R}^2</m> satisfy <m>3x+5y-8=-t_1</m>?
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          If <m>t_2=0</m>, what points in <m>\mathbb{R}^2</m> satisfy <m>2x+y-3=-t_2</m>?
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          What points in <m>\mathbb{R}^2</m> satisfy both <m>t_1=0, t_2=0</m>?
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          What points in <m>\mathbb{R}^2</m> satisfy both <m>t_1=8, t_2=3</m>?
        </p>
      </statement>
    </task>
    <hint>
      <interactive desmos="eawi5elsrl"  />
    </hint>
  </activity>

  <activity xml:id="activity-widget">
    <introduction>
      <p>
        Suppose a company produces two types of widgets.  Widget 1 sells for $200 and Widget 2 sells for $150.
      </p>
      <p>
        Each widget takes ingredients A, B and C.  Widget 1 needs 1 unit of A, 2 units of B and 2 units of C.  Widget 2 needs 2 units of A, 2 units of B and 1 unit of C.
      </p>
      <p>
        The company has 20 units of ingredient A, 30 units of B and 25 units of C.
      </p>
    </introduction>
    <task>
      <statement>
        <p>
          Set up the canonical maximization problem for the information given above and record it in the following tableau:
          
        </p>
        <p>
          <tabular halign="center">
            <row>
              <cell halign="left">
              </cell>
              <cell bottom="medium">
                <m>x_1</m>
              </cell>
              <cell bottom="medium">
                <m>x_2</m>
              </cell>
              <cell bottom="medium">
                <m>-1</m>
              </cell>
              <cell halign="left">
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-t_A</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-t_B</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-t_C</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=f</m>
              </cell>
            </row>
          </tabular>
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          Recall that this tableau has a basic solution where  <m>x_1, x_2=0</m>.  If we slightly increase <m>x_1, x_2</m>, do we increase <m>f</m>?
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          Let's increase <m>x_1</m>.  Take the row corresponding to <m>t_C</m> and solve for <m>x_1</m> in terms of <m>x_2, t_C</m>.
        </p>
      </statement>
      <statement>
        <p>
          For each equality corresponding to the rows <m>t_A, t_B, f</m> replace <m>x_1</m> with the value you found ealier and rewrite the left hand sides.
        </p>
      </statement>
    </task>

    <task>
      <statement>
        <p>
          Record this new system in the following tableau:
          
        </p>
        <p>
          <tabular halign="center">
            <row>
              <cell halign="left">
              </cell>
              <cell bottom="medium">
                <m>t_C</m>
              </cell>
              <cell bottom="medium">
                <m>x_2</m>
              </cell>
              <cell bottom="medium">
                <m>-1</m>
              </cell>
              <cell halign="left">
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-t_A</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-t_B</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-x_1</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=f</m>
              </cell>
            </row>
          </tabular>
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          Recall that this new tableau has a basic solution where <m>t_C, x_2=0</m>, what point is this?
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          If we increase <m>t_C</m> from 0, do we increase <m>f</m>?  What about increasing <m>x_2</m>?
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          Let's increase <m>x_2</m>.  Take the row corrresponding to <m>t_B</m> and repeat Tasks (c) and (d) to obtain a tableau of the form:
          
        </p>
        <p>
          <tabular halign="center">
            <row>
              <cell halign="left">
              </cell>
              <cell bottom="medium">
                <m>t_C</m>
              </cell>
              <cell bottom="medium">
                <m>t_B</m>
              </cell>
              <cell bottom="medium">
                <m>-1</m>
              </cell>
              <cell halign="left">
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-t_A</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-x_2</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-x_1</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=f</m>
              </cell>
            </row>
          </tabular>
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          What point in <m>\R^2</m> represents the basic solution for this new tableau?
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          If I increase <m>t_C</m> from 0, do I increase <m>f</m>?  What about <m>t_B</m>?
        </p>
      </statement>
    </task>

    <task>
      <statement>
        <p>
          Consider the plot of the feasible region for this problem.  What exactly, geometrically, did we end up doing here?
        </p>
        <p>
          <interactive  platform="doenetml" width="100%" >
            <slate surface="doenetml">
              &lt;graph xmin="-1" ymin="-1" xmax="25" ymax="25"&gt;
    &lt;polygon vertices="(0,0) (0, 10) (10,5) (12.5,0)" filled draggable="false" styleNumber="4"/&gt;
    &lt;point name="u" styleNumber="5"&gt;
        (0,0)
      &lt;constraints&gt;
        &lt;attractTo threshold="1"&gt;&lt;point&gt;(0,0)&lt;/point&gt;&lt;/attractTo&gt;
        &lt;attractTo threshold="1"&gt;&lt;point&gt;(0,10)&lt;/point&gt;&lt;/attractTo&gt;
        &lt;attractTo threshold="1"&gt;&lt;point&gt;(10,5)&lt;/point&gt;&lt;/attractTo&gt;
        &lt;attractTo threshold="1"&gt;&lt;point&gt;(12.5,0)&lt;/point&gt;&lt;/attractTo&gt;
      &lt;/constraints&gt;
    &lt;/point&gt;
    &lt;m draggable="false" anchor="($u.x+1,$u.y+1)"&gt;
        f$u = &lt;number&gt;$c1*$u.x+$c2*$u.y&lt;/number&gt;
      &lt;/m&gt;
  
    &lt;line name="line" through="$u $u+(-1*$c2, $c1)" styleNumber="2"/&gt; 
  
    &lt;line name="line1" styleNumber="2"&gt;x+2y=20 &lt;/line&gt;
    &lt;line name="line2" styleNumber="3"&gt;2x+2y=30 &lt;/line&gt;
    &lt;line name="line3" styleNumber="4"&gt;2x+y=25 &lt;/line&gt;
    
    
  &lt;/graph&gt;
  &lt;p&gt;
    &lt;m&gt;f(x_1, x_2) =&lt;/m&gt; &lt;mathInput name="c1"/&gt; &lt;m&gt;x_1+&lt;/m&gt;&lt;mathInput name="c2"/&gt; &lt;m&gt;x_2&lt;/m&gt;.
  &lt;/p&gt;
  
  
  &lt;answer&gt;
    &lt;award&gt;
      &lt;when&gt;
        $u = (10,5) and $c1=200 and $c2=150
      &lt;/when&gt;
    &lt;/award&gt;
  &lt;/answer&gt;
            </slate>
                    </interactive>
        </p>
      </statement>
      
    </task>


  </activity>

  <activity>
    <statement>
      <p>
        Based on <xref ref="activity-widget"/>, what is a criteria to determine if a feasible tableau has a basic optimal solution?
      </p>
      <ol marker="A." cols="2">
        <li>
          <p>
            Some of the <m>c_j\leq 0</m>.
          </p>
        </li>
        <li>
          <p>
            All of the <m>c_j\leq 0</m>.
          </p>
        </li>
        <li>
          <p>
            Some of the <m>c_j\geq 0</m>.
          </p>
        </li>
        <li>
          <p>
            All of the <m>c_j\geq 0</m>.
          </p>
        </li>

        <li>
          <p>
            Some of the <m>b_i\leq 0</m>.
          </p>
        </li>
        <li>
          <p>
            All of the <m>b_i\leq 0</m>.
          </p>
        </li>
        <li>
          <p>
            Some of the <m>b_i\geq 0</m>.
          </p>
        </li>
        <li>
          <p>
            All of the <m>b_i\geq 0</m>.
          </p>
        </li>
      </ol>
    </statement>
  </activity>

  <activity>
    <introduction>
      <p>
        Consider the tableau:
        
         
      </p>
      <p>
        <tabular halign="center">
          <row>
            <cell halign="left">
            </cell>
            <cell bottom="medium">
              <m>x_1</m>
            </cell>
            <cell bottom="medium">
              <m>x_2</m>
            </cell>
            <cell bottom="medium">
              <m>-1</m>
            </cell>
            <cell halign="left">
            </cell>
          </row>
          <row>
            <cell halign="left" right="medium">
            </cell>
            <cell>
              <m> a_{11}</m>
            </cell>
            <cell right="medium">
              <m> a_{12}</m>
            </cell>
            <cell right="medium">
              <m> b_1</m>
            </cell>
            <cell halign="left">
              <m>=-t_1</m>
            </cell>
          </row>
          <row>
            <cell halign="left" right="medium">
            </cell>
            <cell bottom="medium">
              <m> a_{21}</m>
            </cell>
            <cell right="medium" bottom="medium">
              <m> a_{22}</m>
            </cell>
            <cell right="medium" bottom="medium">
              <m> b_2</m>
            </cell>
            <cell halign="left">
              <m>=-t_2</m>
            </cell>
          </row>
          <row>
            <cell halign="left" right="medium">
            </cell>
            <cell bottom="medium">
              <m> c_1</m>
            </cell>
            <cell right="medium" bottom="medium">
              <m> c_2</m>
            </cell>
            <cell right="medium" bottom="medium">
              <m> d</m>
            </cell>
            <cell halign="left">
              <m>=f</m>
            </cell>
          </row>
        </tabular>
      </p>
      <p>
        along with the corresponding system of equations.
      </p>
    </introduction>
    <task>
      <statement>
        <p>
          Solve for <m>x_1</m> in terms of <m>t_1, x_2</m>.
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          In each of the other two equalities, replace <m>x_1</m> with the expression we found above and simplify.
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          Record this new system in the following tableau:
          
        </p>
        <p>
          <tabular halign="center">
            <row>
              <cell halign="left">
              </cell>
              <cell bottom="medium">
                <m>t_1</m>
              </cell>
              <cell bottom="medium">
                <m>x_2</m>
              </cell>
              <cell bottom="medium">
                <m>-1</m>
              </cell>
              <cell halign="left">
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m>  </m>
              </cell>
              <cell right="medium">
                <m>  </m>
              </cell>
              <cell right="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-x_1</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m>  </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=-t_2</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m>  </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m>  </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> </m>
              </cell>
              <cell halign="left">
                <m>=f</m>
              </cell>
            </row>
          </tabular>
        </p>
      </statement>
    </task>
  </activity>

  <definition xml:id="def-pivot">
    <statement>
      <p>
        The following is the algorithm for a <em>pivot transformation</em>:

      </p>
      <ol>
        <li>
          <p>
            Pick a non-zero entry <m>p</m> in the tableau but not in the objective row or constraint column.
          </p>
        </li>
        <li>
          <p>
            Transpose the decision and slack variables corresponding to the position of <m>p</m>.
          </p>
        </li>
        <li>
          <p>
            Replace <m>p</m> by <m>1/p</m>.
          </p>
        </li>
        <li>
          <p>
            Replace each entry <m>q</m> in the same row as <m>p</m> (but not <m>p</m>) with <m>q/p</m>.
          </p>
        </li>
        <li>
          <p>
            Replace each entry <m>r</m> in the same column as <m>p</m> (but not <m>p</m>) with <m>-r/p</m>.
          </p>
        </li>
        <li>
          <p>
            Each entry <m>s</m> not in the same row or column as <m>p</m> but in the same column as <m>q</m> (which is in the same row as <m>p</m>) and in the same row as <m>r</m> (which is in the same column as <m>p</m>)
            is replaced with <m>\frac{ps-qr}{p}</m>.
          </p>
        </li>

      </ol>
    </statement>
  </definition>

  <activity xml:id="activity-pivotexample">
    <introduction>
      <statement>
        <p>
          Consider the problem: maximize <m>f(x,y)=5x-y</m> subject to:
          <md>
            <mrow>-7x+y \amp \leq 0</mrow>
            <mrow>-x+2y \amp \leq 30</mrow>
            <mrow>-x-2y \amp \leq 0</mrow>
            <mrow>-3x-y \amp \leq 20</mrow>
          </md>
          which we may encode as:
         
        </p>
        <p>
          <tabular halign="center">
            <row>
              <cell halign="left">
              </cell>
              <cell bottom="medium">
                <m>x_1</m>
              </cell>
              <cell bottom="medium">
                <m>x_2</m>
              </cell>
              <cell bottom="medium">
                <m>-1</m>
              </cell>
              <cell halign="left">
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m>-7  </m>
              </cell>
              <cell right="medium">
                <m> 1 </m>
              </cell>
              <cell right="medium">
                <m> 0</m>
              </cell>
              <cell halign="left">
                <m>=-t_1</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> 1 </m>
              </cell>
              <cell right="medium">
                <m> 2 </m>
              </cell>
              <cell right="medium">
                <m> 30 </m>
              </cell>
              <cell halign="left">
                <m>=-t_2</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> 1 </m>
              </cell>
              <cell right="medium">
                <m> -2 </m>
              </cell>
              <cell right="medium">
                <m> 0 </m>
              </cell>
              <cell halign="left">
                <m>=-t_3</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m>  3 </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> -1 </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> 20</m>
              </cell>
              <cell halign="left">
                <m>=-t_4</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> 5 </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> -1 </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> 0 </m>
              </cell>
              <cell halign="left">
                <m>=f</m>
              </cell>
            </row>
          </tabular>
        </p>
      </statement>
    </introduction>
    <task>
      <statement>
        <p>
          Pivot on the entry with <m>*</m>
          
           (Keep track of the decision and slack variables.)
        </p>
        <p>
          <tabular halign="center">
            <row>
              <cell halign="left">
              </cell>
              <cell bottom="medium">
                <m>x_1</m>
              </cell>
              <cell bottom="medium">
                <m>x_2</m>
              </cell>
              <cell bottom="medium">
                <m>-1</m>
              </cell>
              <cell halign="left">
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m>-7  </m>
              </cell>
              <cell right="medium">
                <m> 1 </m>
              </cell>
              <cell right="medium">
                <m> 0</m>
              </cell>
              <cell halign="left">
                <m>=-t_1</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> 1 </m>
              </cell>
              <cell right="medium">
                <m> 2 </m>
              </cell>
              <cell right="medium">
                <m> 30 </m>
              </cell>
              <cell halign="left">
                <m>=-t_2</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> 1^* </m>
              </cell>
              <cell right="medium">
                <m> -2 </m>
              </cell>
              <cell right="medium">
                <m> 0 </m>
              </cell>
              <cell halign="left">
                <m>=-t_3</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m>  3 </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> -1 </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> 20</m>
              </cell>
              <cell halign="left">
                <m>=-t_4</m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> 5 </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> -1 </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> 0 </m>
              </cell>
              <cell halign="left">
                <m>=f</m>
              </cell>
            </row>
          </tabular>
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          Pivot on the entry with <m>*</m> (Keep track of the decision and slack variables.)
          
           
        </p>
        <p>
          <tabular halign="center">
            <row>
              <cell halign="left">
              </cell>
              <cell bottom="medium">
                <m></m>
              </cell>
              <cell bottom="medium">
                <m></m>
              </cell>
              <cell bottom="medium">
                <m></m>
              </cell>
              <cell halign="left">
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m>?  </m>
              </cell>
              <cell right="medium">
                <m> ? </m>
              </cell>
              <cell right="medium">
                <m> ?</m>
              </cell>
              <cell halign="left">
                <m> </m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> ? </m>
              </cell>
              <cell right="medium">
                <m> ? </m>
              </cell>
              <cell right="medium">
                <m> ? </m>
              </cell>
              <cell halign="left">
                <m> </m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> ? </m>
              </cell>
              <cell right="medium">
                <m> ? </m>
              </cell>
              <cell right="medium">
                <m> ? </m>
              </cell>
              <cell halign="left">
                <m> </m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m>  ? </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> ?^* </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> ?</m>
              </cell>
              <cell halign="left">
                <m></m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> ? </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> ? </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> ? </m>
              </cell>
              <cell halign="left">
                <m>=f</m>
              </cell>
            </row>
          </tabular>
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          Pivot on the entry with <m>*</m> (Keep track of the decision and slack variables.)
        </p>
        <p>
          <tabular halign="center">
            <row>
              <cell halign="left">
              </cell>
              <cell bottom="medium">
                <m></m>
              </cell>
              <cell bottom="medium">
                <m></m>
              </cell>
              <cell bottom="medium">
                <m></m>
              </cell>
              <cell halign="left">
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m>?  </m>
              </cell>
              <cell right="medium">
                <m> ? </m>
              </cell>
              <cell right="medium">
                <m> ?</m>
              </cell>
              <cell halign="left">
                <m> </m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> ? </m>
              </cell>
              <cell right="medium">
                <m> ?^* </m>
              </cell>
              <cell right="medium">
                <m> ? </m>
              </cell>
              <cell halign="left">
                <m> </m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell>
                <m> ? </m>
              </cell>
              <cell right="medium">
                <m> ? </m>
              </cell>
              <cell right="medium">
                <m> ? </m>
              </cell>
              <cell halign="left">
                <m> </m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m>  ? </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> ? </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> ?</m>
              </cell>
              <cell halign="left">
                <m></m>
              </cell>
            </row>
            <row>
              <cell halign="left" right="medium">
              </cell>
              <cell bottom="medium">
                <m> ? </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> ? </m>
              </cell>
              <cell right="medium" bottom="medium">
                <m> ? </m>
              </cell>
              <cell halign="left">
                <m>=f</m>
              </cell>
            </row>
          </tabular>
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          Look at your decision variables.  Which two lines are we currently sitting on?
        </p>
      </statement>
    </task>
    <task>
      <statement>
        <p>
          How do we know we now have an optimal solution based only on the tableau?
        </p>
      </statement>
     
    </task>
    
    <task>
      <statement>
        <p>
          Confirm your solution geometrically:
          <interactive  platform="doenetml" width="100%" >
            <slate surface="doenetml">
              
              &lt;graph xmin="-2" ymin="-2" xmax="15" ymax="15"&gt;
              &lt;polygon vertices="(0,0) (8, 4) (10,10) (2,14)" filled draggable="false" styleNumber="4"/&gt;
              &lt;point name="u" styleNumber="5"&gt;
                  (0,0)
                &lt;constraints&gt;
                  &lt;attractTo threshold="1"&gt;&lt;point&gt;(0,0)&lt;/point&gt;&lt;/attractTo&gt;
                  &lt;attractTo threshold="1"&gt;&lt;point&gt;(8,4)&lt;/point&gt;&lt;/attractTo&gt;
                  &lt;attractTo threshold="1"&gt;&lt;point&gt;(10,10)&lt;/point&gt;&lt;/attractTo&gt;
                  &lt;attractTo threshold="1"&gt;&lt;point&gt;(2, 14)&lt;/point&gt;&lt;/attractTo&gt;
                &lt;/constraints&gt;
              &lt;/point&gt;
              &lt;m draggable="false" anchor="($u.x+1,$u.y+1)"&gt;
                  f$u = = &lt;number&gt;$c1*$u.x+$c2*$u.y&lt;/number&gt;
                &lt;/m&gt;
            
              &lt;line name="line" through="$u $u+(-1*$c2, $c1)" styleNumber="2"/&gt; 
            &lt;/graph&gt;
            &lt;p&gt;
              &lt;m&gt;f(x_1, x_2) =&lt;/m&gt; &lt;mathInput name="c1"/&gt; &lt;m&gt;x_1+&lt;/m&gt;&lt;mathInput name="c2"/&gt; &lt;m&gt;x_2&lt;/m&gt;.
            &lt;/p&gt;
            
            
            &lt;answer&gt;
              &lt;award&gt;
                &lt;when&gt;
                  $u = (10, 10) and $c1=5 and $c2=-1 
                &lt;/when&gt;
              &lt;/award&gt;
            &lt;/answer&gt;
            </slate>
                    </interactive>
        </p>
      </statement>
      
    </task>

  </activity>

</section>